<app-picaroon-search-bar></app-picaroon-search-bar>

<div class="row" *ngIf="error != null">
  <div class="col-lg-12">
    <div class="alert alert-danger animated pulse">
      <h4><strong>Error: </strong> {{ error.message }}</h4>
      <small>{{ error.correlationID }}</small>
      <br/>
      <a (click)="refresh()">Refresh</a>
    </div>
  </div>
</div>

<div class="m-t-lg row animated fadeInUp" *ngIf="detail == null && loading && error == null">
  <div class="col-lg-12 sk-loading">
    <div class="sk-spinner sk-spinner-double-bounce">
      <div class="sk-double-bounce1"></div>
      <div class="sk-double-bounce2"></div>
    </div>
  </div>
</div>

<div class="wrapper wrapper-content animated fadeIn" *ngIf="detail != null" [ngClass]="{ 'sk-loading': loading }">

  <div class="ibox float-e-margins">
    <div class="ibox-content">
      <div class="row">
        <div class="col-sm-12">
          <h2>{{ detail.name }}</h2>
          <hr>
          <div class="row">
            <div class="col-lg-9">
              <pre [innerHTML]="detail.description"></pre>
            </div>
            <div class="col-lg-3">
              <a type="button" class="btn btn-lg btn-block btn-primary" [href]="detail.magnet | safeUrl">Magnet</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="ibox float-e-margins" *ngIf="detail.commentCount > 0">
    <div class="ibox-title">
      <h5>Comments ({{ detail.commentCount }})</h5>
    </div>
    <div class="ibox-content">
      <div class="row">
        <div class="col-sm-12">
          <div class="feed-activity-list">
            <div class="feed-element" *ngFor="let comment of detail.comments">
              <a href="#" class="pull-left">
                <img alt="image" class="img-circle" src="https://www.gravatar.com/avatar/00000000000000000000000000000000" />
              </a>
              <div class="media-body ">
                <small class="pull-right">{{ comment.commented }}</small>
                <strong>{{ comment.user }}</strong><br/>
                <small class="text-muted">{{ comment.commented }}</small>
                <div class="well" [innerHTML]="comment.text">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>




</div>
